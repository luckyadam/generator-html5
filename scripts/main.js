"use strict";var beautifulPageModule=function(){function e(e){this._queue=e||[],this._delayTimer=null}function i(e,i,t){var n={},a=0,o=0,s=0,r=1;for(var l in e)o++;if(0===o)return void(i&&i(n));for(var u in e)n[u]=new Image,n[u].onload=function(){++a>=o&&i&&i(n)},n[u].onerror=function(){++s>=r&&t&&t()},n[u].src=e[u]}function t(e,i,t){e.show().removeClass(i+" animated").addClass(i+" animated").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){$(this).removeClass(i+" animated"),t&&t()})}function n(e){this.conf={},$.extend(this.conf,e),this.swiper=null,this.loaderProgress=null,this.init()}return e.prototype.constructor=e,e.prototype.queueAll=function(e){var i=this,t=i._queue;!function n(){if(t.length>0){var a=t.shift(),o=a.fn,s=a.delay;i._delayTimer=setTimeout(function(){o.apply(e||{},[n].concat(Array.prototype.slice.call(arguments,0)))},s)}}()},e.prototype.clearQueue=function(){this._queue=[],clearTimeout(this._delayTimer)},n.prototype={constructor:n,init:function(){this.getUsefulElements(),this.initStyle(),this.showLoaderProgress(),i(this.conf.resources,$.proxy(this.loadPage,this))},getUsefulElements:function(){var e=this.conf.$el;this.$elements={$swiperContainer:$(".swiper-container",e).hide(),$loader:$(".loader",e),$progressText:$(".loader_progress",e),$swiperPage:$(".swiper-page",e)},this.$elements.$swiperPage.children().hide()},initStyle:function(){var e=this.conf.$el,i=e.width(),t=e.height(),n=1,a=i/360,o=t/600;n=o>a?a:o,n>2&&(n=2),this.ratio=n,this.$elements.$swiperPage.css("zoom",n)},loadPage:function(){this.hideLoaderProgress(),t(this.$elements.$swiperContainer,"fadeIn"),this.initSwiper()},showLoaderProgress:function(){var e=3,i=this;i.loaderProgress=setInterval(function(){e+=25,i.$elements.$progressText.text(e+"%"),e>=77&&clearInterval(i.loaderProgress)},400)},hideLoaderProgress:function(){var e=this,i=e.$elements;setTimeout(function(){clearInterval(e.loaderProgress),i.$progressText.text("100%"),i.$loader.addClass("scaleOut"),setTimeout(function(){i.$loader.remove()},900)},300)},initSwiper:function(){var e=this;e.swiper||(e.swiper=new Swiper(".swiper-container",{speed:400,direction:"vertical",effect:"slide",swipeToNext:!1,simulateTouch:!0,mousewheelControl:!0,onInit:function(){setTimeout(function(){e.playPageAnimate(1)},800)},onSlideChangeEnd:function(i){e.hidePageElements(i.previousIndex+1),e.playPageAnimate(i.activeIndex+1)}}))},playPageAnimate:function(i){var t=this.conf.animateQueueList,n=[],a=[];t&&t.length>0&&(a=t[i-1],n=a.slice(0),this["page"+i+"AnimateQueue"]=new e(n),this["page"+i+"AnimateQueue"].queueAll())},hidePageElements:function(e){var i=this.$elements,t=$(i.$swiperPage[e-1]).children(),n=this["page"+e+"AnimateQueue"];"function"==typeof n&&n.clearQueue(),t.hide()}},{BeautifulPage:n,playAnimate:t}}(window,void 0);!function(){{var e={$el:$(".container"),resources:{sampleImg1:"images/sample_img1.jpg",sampleImg2:"images/sample_img2.jpg",sampleImg3:"images/sample_img3.jpg",sampleImg4:"images/sample_img4.jpg"},animateQueueList:[[{delay:500,fn:function(e){beautifulPageModule.playAnimate($("#sample_img1"),"fadeInLeft"),e()}},{delay:500,fn:function(){beautifulPageModule.playAnimate($("#sample_img2"),"bounceInUp")}}],[{delay:500,fn:function(e){beautifulPageModule.playAnimate($("#sample_img3"),"zoomInRight"),e()}},{delay:500,fn:function(){beautifulPageModule.playAnimate($("#sample_img4"),"bounceInUp")}}]]};new beautifulPageModule.BeautifulPage(e)}}(window,void 0);